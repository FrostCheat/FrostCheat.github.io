<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Agregar Producto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1 class="text-center">âž• Agregar Producto</h1>
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" class="form-control">
        <label for="cantidad">Cantidad:</label>
        <input type="number" id="cantidad" class="form-control">
        <label for="precio">Precio:</label>
        <input type="number" id="precio" class="form-control">
        <br>
        <button onclick="agregarProducto()" class="btn btn-primary w-100">Agregar</button>
        <br><br>
        <a href="index.html" class="btn btn-secondary w-100">ðŸ”™ Volver al Inventario</a>
    </div>
    <script>
        function agregarProducto() {
            let productos = JSON.parse(localStorage.getItem("productos")) || {};
            let nombre = document.getElementById("nombre").value.trim();
            let cantidad = parseInt(document.getElementById("cantidad").value);
            let precio = parseFloat(document.getElementById("precio").value);

            if (nombre === "" || isNaN(cantidad) || isNaN(precio) || cantidad < 0 || precio <= 0) {
                alert("Ingrese datos vÃ¡lidos.");
                return;
            }

            if (productos[nombre]) {
                alert("Ese producto ya existe.");
                return;
            }

            productos[nombre] = { cantidad, precio };
            localStorage.setItem("productos", JSON.stringify(productos));
            alert("Producto agregado.");
            window.location.href = "index.html";
        }
    </script>
</body>
</html>
